{# @var annotationsSortable \ElucidateModule\Domain\SortableAnnotationsList #}
{% if annotationsSortable.groupByCanvas().orderByLabel().get() %}
    {% set canvasList = annotationsSortable.groupByCanvas().get() %}
    {% for canvas in canvasList %}
        <a href="{{ canvas.canvasSource.omekaUri }}">
            <span class="fa fa-long-arrow-left" aria-hidden="true"></span> {{ translate('Back to item') }}
        </a>

        <h2>{{ translate('Activity for %s') | format(canvas.canvasSource.label) }}</h2>

        <div class="c-dig-grid__col--2">
            <a href="{{ canvas.canvasSource.omekaUri }}">
                <img src="{{ canvas.thumbnail.full }}" height="150">
            </a>
        </div>
        <div class="c-dig-grid__col--10">
            {% for annotation in annotationsSortable.onlyCanvas(canvas.canvasSource.omekaUri).get() %}
                <div class="c-dig-grid">
                    <div class="c-dig-grid__col--2">
                        {{ annotation.timeAgo }}
                    </div>
                    <div class="c-dig-grid__col--10">
                        {% if annotation.motivation == 'http://www.digirati.com/ns/crowds#drafting' %}
                            {{ translate('Added an editable annotation (draft)') }}
                        {% else %}
                            {{ translate('Added a %s annotation') | format(annotation.motivation) }}
                        {% endif %}
                    </div>
                </div>
            {% endfor %}

        </div>
    {% endfor %}
{% endif %}
